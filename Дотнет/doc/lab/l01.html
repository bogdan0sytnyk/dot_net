<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Transitional//EN">
<HTML>
<HEAD>
   <meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
   <meta name="Author" content="Alexander S. Derevjanko">
   <meta name="Generator" content="Far Editor">
   <meta name="Description" content="Data structures">
   <meta name="Owner" content="derev@insart.kharkov.ua">
   <meta name="Keywords" content="программирование, C">

<title>Основы программирования. Лабораторные работы </title>
<!--                                                                   -->
<!-- (C) Owner: Alexander S. Derevjanko -->
<!-- (C) ХГПУ. Каф.Информатики и интеллектуальной собственности, 2000. -->

</head>

<body background=../../iip_1.jpg>
<p>
<p><table cellpadding=10>
<tr><td><a href=../../index.html>Каталог</a></td><td><a href=../index.html>Индекс раздела</a></td><td></tr>
</table>
<table cellpadding=10>
<tr><td><a href=l00.html>Назад</a></td><td><a href=index.html>Оглавление</a></td><td><a href=l02.html>Вперед</a></td></tr>
</table>
</p>
<hr>
<h2 align=center>Лабораторная работа ╧1<br>
Работа в системе программирования Borland С</h2>

<h3 align=center>1. Цель работы</h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Целью лабораторной работы является получение базовых практических навыков использования системы программирования, необходимых для дальнейшего выполнения цикла лабораторных работ.
<p>&nbsp;&nbsp;&nbsp;&nbsp;В ходе этой лабораторной работы студенту предлагается выполнить ряд действий, которые должны познакомить его с использованием системы программирования для подготовки, компиляции, выполнения и отладки программ.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Выполнение этой работы не требует отчета. В случае недобросовестного отношения и плохого усвоения студентом материала этой работы, это неизбежно проявится при выполнении следующих работ.

<h3 align=center>2. Подготовка каталога и запуск системы программирования</h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Система программирования Borland C++ состоит из большого числа файлов, хранение которых структурировано по каталогам. В то время, когда готовятся эти материалы, корневой каталог системы программирования в нашей лаборатории:
<p>&nbsp;&nbsp;&nbsp;&nbsp;<b><I>S:\DOS\BC</I></b></p> 
<p>&nbsp;&nbsp;&nbsp;&nbsp;Остальные каталоги являются подкаталогами в этом каталоге. Основные из них:
<table>
<tr><td align=top><b><I>S:\DOS\BC\BIN</I></b></td><td>  -  в этом подкаталоге размещены программные модули системы программирования, подсказка и т.д.</td></tr>
<tr><td align=top><b><I>S:\DOS\BC\INCLUDE</I></b></td><td> - в этом подкаталоге размещены файлы-заголовки с описаниями стандартных функций системы программирования.</td></tr>
<tr><td align=top><b><I>S:\DOS\BC\LIB</I></b></td><td> - в этом подкаталоге размещены у библиотеки стандартных функций системы программирования.</td></tr>
</table>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Программист имеет возможность настраивать среду программирования для своих собственных нужд. По умолчанию настройки сохраняются в текущем каталоге (в том, из которого система программирования запускается на выполнение) и при следующем запуске устанавливаются из сохраненных значений. Так что несколько программистов могут работать с системой программирования из разных каталогов, и для каждого будут сохраняться и устанавливаться его собственные параметры среды.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Для того, чтобы иметь возможность создавать и сохранять  собственные параметры среды, Вы должны выполнить такие действия:
<ul>
<li>создать собственный рабочий каталог, например: <b><I>H:\WORK</I></b>.
<li>создать в этом каталоге текстовый файл с именем <b><I>bc.bat</I></b> и записать в него команду запуска системы программирования:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<b><I>S:\DOS\BC\BIN\BC.EXE</I></b>
<li>копировать в рабочий каталог такие файлы из каталога <b><I>S:\DOS\BC\BIN</I></b>:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<b><I>tlink.cfg, turboc.cfg, tcdef.dpr, tcdef.dsk, tcconfig.tc</I></b>
<li>проверить атрибуты этих файлов на новом месте; если для каких-то из них установлен атрибут <b><I>R</I></b> (только чтение), надо снять этот атрибут.
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;После выполнения этих действий для запуска системы программирования Вы можете запускать на выполнение файл <b><I>bc.bat</I></b>. Те настройки параметров среды, которые Вы сделаете, выполняя следующий пункт, сохранятся в вашем рабочему каталоге и будут восстанавливаться при следующих запусках системы программирования.

<h3 align=center>3. Настройка рабочей среды</h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Ниже описываются параметры среды системы программирования, которые нужно установить для выполнения лабораторных работ этого цикла. Вы должны установить их в первой лабораторной работе, и они должны сохраняться и впоследствии. Но не забывайте время от времени проверять их значения, чтобы убедиться, что никто не изменил их, пока Вы отсутствовали.

<h4>&nbsp;&nbsp;&nbsp;&nbsp;3.1. Установка каталогов</h4>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Выберите в <b><I>Главном Меню</I></b> пункт <b><I>Options</I></b>, в том меню, которое выплывет затем, выберите пункт <b><I>Directories... </I></b> (далее последовательность выборов из меню мы представляем в виде: <b><I>Главное Меню -&gt; Options -&gt; Directories...) </I></b>.
<p>&nbsp;&nbsp;&nbsp;&nbsp;В том окне, которое затем появится на экране, установите такие значения в полях:

<p><table border align=center>
<tr><td><b>Поле</b></td>
<td><b>Значение</b></td></tr>
<tr><td valign=top><b><I>Include Directories</I></b></td>
<td valign=top><b><I>S:\DOS\BC\INCLUDE</I></b></td></tr>
<tr><td valign=top><b><I>Library Directories</I></b></td>
<td valign=top><b><I>S:\DOS\BC\LIB</I></b></td></tr>
<tr><td valign=top><b><I>Output Directory</I></b></td>
<td valign=top>&lt;пусто&gt; </td></tr>
<tr><td valign=top><b><I>Source Directory</I></b></td>
<td valign=top>&lt;пусто&gt; </td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;После установки значений "нажмите" кнопку <b><I>OK</I></b>.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Установленные значения будут задавать поиск файлов-заголовков и библиотек в стандартных каталогах системы программирования. Те же программные модули, которые будете создавать Вы - текстовые, объектные и загрузочные - будут размещаться в Вашем текущем каталоге.

<h4>&nbsp;&nbsp;&nbsp;&nbsp;3.2. Параметры компиляции</h4>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Для настройки параметров компиляции выполните такие действия:
<p>&nbsp;&nbsp;&nbsp;&nbsp;1). Выберите: <b><I>Главное Меню -&gt; Options -&gt; Compiler -&gt; Code generation... </I></b>
<p>&nbsp;&nbsp;&nbsp;&nbsp;В том окне, которое затем появится на экране, установите такие значения в полях:

<p><table border align=center>
<tr><td><b>Поле</b></td>
<td><b>Значение</b></td></tr>
<tr><td valign=top><b><I>Model</I></b></td>
<td valign=top><b><I>Small</I></b></td></tr>
<tr><td valign=top><b><I>Options</I></b></td>
<td valign=top>&lt;пусто&gt; </td></tr>
<tr><td valign=top><b><I>Assume SS equal DS</I></b></td>
<td valign=top><b><I>Default for memory model</I></b></td></tr>
<tr><td valign=top><b><I>Defines</I></b></td>
<td valign=top>&lt;пусто&gt; </td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;После установки значений "нажмите" кнопку <b><I>OK</I></b>.
<p>&nbsp;&nbsp;&nbsp;&nbsp;2). Выберите: <b><I>Главное Меню - > Options - > Compiler -&gt; Advanced code generation... </I></b>
<p>&nbsp;&nbsp;&nbsp;&nbsp;В том окне, которое затем появится на экране, установите такие значения в полях:

<p><table border align=center>
<tr><td><b>Поле</b></td>
<td><b>Значение</b></td></tr>
<tr><td valign=top><b><I>Floating Point</I></b></td>
<td valign=top><b><I>8087</I></b></td></tr>
<tr><td valign=top><b><I>Instruction Set</I></b></td>
<td valign=top><b><I>8088/8086</I></b></td></tr>
<tr><td valign=top><b><I>Options</I></b></td>
<td valign=top><b><I>Generate underbase<br>
Debug info in OBJ's<br>
Fast floating point</I></b></td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;После установки значений "нажмите" кнопку <b><I>OK</I></b>.
<p>&nbsp;&nbsp;&nbsp;&nbsp;3). Выберите: <b><I>Главное Меню -&gt; Options -&gt; Compiler -&gt; Entry/Exit Code... </I></b>
<p>&nbsp;&nbsp;&nbsp;&nbsp;В том окне, которое затем появится на экране, установите такие значения в полях:

<p><table border align=center>
<tr><td><b>Поле</b></td>
<td><b>Значение</b></td></tr>
<tr><td valign=top><b><I>Prolog/epilog Code Generation</I></b></td>
<td valign=top><b><I>DOS standard</I></b></td></tr>
<tr><td valign=top><b><I>Calling Convention</I></b></td>
<td valign=top><b><I>C</I></b></td></tr>
<tr><td valign=top><b><I>Stack Options</I></b></td>
<td valign=top><b><I>Standard stack frame<br>
Test stack overflow</I></b></td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;После установки значений "нажмите" кнопку <b><I>OK</I></b>.
4). Выберите: <b><I>Главное Меню -&gt; Options -&gt; Compiler -&gt; Source... </I></b>
<p>&nbsp;&nbsp;&nbsp;&nbsp;В том окне, которое затем появится на экране, установите такие значения в полях:

<p><table border align=center>
<tr><td><b>Поле</b></td>
<td><b>Значение</b></td></tr>
<tr><td valign=top><b><I>Keywords</I></b></td>
<td valign=top><b><I>Borland C++</I></b></td></tr>
<tr><td valign=top><b><I>Source Options</I></b></td>
<td valign=top><b><I>Nested comments</I></b></td></tr>
<tr><td valign=top><b><I>Identifier Length</I></b></td>
<td valign=top><b><I>32</I></b></td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;После установки значений "нажмите" кнопку <b><I>OK</I></b>.


<h4>&nbsp;&nbsp;&nbsp;&nbsp;3.3. Параметры программы Make</h4>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Выберите: <b><I>Главное Меню -&gt; Options -&gt; Make ... </I></b>
<p>&nbsp;&nbsp;&nbsp;&nbsp;В том окне, которое затем появится на экране, установите такие значения в полях:

<p><table border align=center>
<tr><td><b>Поле</b></td>
<td><b>Значение</b></td></tr>
<tr><td valign=top><b><I>Break Make On</I></b></td>
<td valign=top><b><I>Errors</I></b></td></tr>
<tr><td valign=top><b><I>After Compiler</I></b></td>
<td valign=top><b><I>Run Linker</I></b></td></tr>
<tr><td valign=top><b><I>Generate Import Library</I></b></td>
<td valign=top><b><I>No</I></b></td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;После установки значений "нажмите" кнопку <b><I>OK</I></b>.

<h4>&nbsp;&nbsp;&nbsp;&nbsp;3.4. Параметры компоновщика</h4>

<p>&nbsp;&nbsp;&nbsp;&nbsp;1). Выберите: <b><I>Главное Меню -&gt; Options -&gt; Linker -&gt; Settings ... </I></b>
<p>&nbsp;&nbsp;&nbsp;&nbsp;В том окне, которое затем появится на экране, установите такие значения в полях:

<p><table border align=center>
<tr><td><b>Поле</b></td>
<td><b>Значение</b></td></tr>
<tr><td valign=top><b><I>Map File</I></b></td>
<td valign=top><b><I>Off</I></b></td></tr>
<tr><td valign=top><b><I>Output</I></b></td>
<td valign=top><b><I>Standard DOS EXE</I></b></td></tr>
<tr><td valign=top><b><I>Options</I></b></td>
<td valign=top><b><I>Default libraries<br>
"No stack" warning<br>
Case-sensitive link</I></b></td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;После установки значений "нажмите" кнопку <b><I>OK</I></b>.

<p>&nbsp;&nbsp;&nbsp;&nbsp;2). Выберите: <b><I>Главное Меню -&gt; Options -&gt; Linker -&gt; Libraries ... </I></b>
<p>&nbsp;&nbsp;&nbsp;&nbsp;В том окне, которое затем появится на экране, установите такие значения в полях:

<p><table border align=center>
<tr><td><b>Поле</b></td>
<td><b>Значение</b></td></tr>
<tr><td valign=top><b><I>Libraries</I></b></td>
<td valign=top>&lt;пусто&gt; </td></tr>
<tr><td valign=top><b><I>Container Class Library</I></b></td>
<td valign=top><b><I>None</I></b></td></tr>
<tr><td valign=top><b><I>ObjectWindows Library</I></b></td>
<td valign=top><b><I>None</I></b></td></tr>
<tr><td valign=top><b><I>Standard Run-Time Libraries</I></b></td>
<td valign=top><b><I>Static</I></b></td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;После установки значений "нажмите" кнопку <b><I>OK</I></b>.

<h4>&nbsp;&nbsp;&nbsp;&nbsp;3.5. Параметры отладчика </h4>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Выберите: <b><I>Главное Меню -&gt; Options - > Debugger... </I></b>
<p>&nbsp;&nbsp;&nbsp;&nbsp;В том окне, которое затем появится на экране, установите такие значения в полях:

<p><table border align=center>
<tr><td><b>Поле</b></td>
<td><b>Значение</b></td></tr>
<tr><td valign=top><b><I>Source Debugging</I></b></td>
<td valign=top><b><I>On</I></b></td></tr>
<tr><td valign=top><b><I>Display Swapping</I></b></td>
<td valign=top><b><I>Smart</I></b></td></tr>
<tr><td valign=top><b><I>Program Heap Size</I></b></td>
<td valign=top><b><I>64 Kbytes</I></b></td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;После установки значений "нажмите" кнопку <b><I>OK</I></b>.

<h4>&nbsp;&nbsp;&nbsp;&nbsp;3.6. Сохранение параметров среды</h4>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Выберите <b><I>Главное Меню -&gt; Options -&gt; Save... </I></b>
<p>&nbsp;&nbsp;&nbsp;&nbsp;В том окне, которое затем появится на экране, "нажмите" кнопку <b><I>OK</I></b>.

<h3 align=center>4. Пользование подсказкой</h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Система программирования Borland C++ имеет мощную систему онлайновой подсказки, которая очень полезна, особенно- для начинающего программиста.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Подсказка является гипертекстовой, то есть, во всех текстах, которые появляются на экране при выводе подсказки, есть некоторые выделенные слова. Выбрав одно из выделенных слов, можно получить подсказку, связанную с этим словом.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Первая возможность обращения к подсказке - через <b><I>Главное Меню -&gt; Help</I></b>. В том меню, которое выплывает затем, самыми полезными являются пункты <b><I>Contents</I></b> и <b><I>Index</I></b>.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Пункт <b><I>Contents</I></b> выводит на экран тематический список разделов, по которым можно получить подсказку. Из всех этих разделов прежде всего мы рекомендуем:
<ul>
<li><b><I>How to Use Help</I></b> - как пользоваться подсказкой;
<li><b><I>Menus and Hot Keys</I></b> - меню и горячие клавиши;
<li><b><I>Editor Commands</I></b> - команды редактора;
<li><b><I>Borland C++ Language</I></b> - язык Borland C++;
<li><b><I>Error Messages</I></b> - сообщения об ошибках;
<li><b><I>Functions</I></b> - функции;
<li><b><I>Header Files</I></b> - файлы заголовков.
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Выбор любого из этих разделов приводит к появлению списка подразделов и так далее.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Пункт <b><I>Index</I></b> выводит на экран алфавитный список всех ключевых слов и имен функций языка и системы программирования Borland C++. Выбирая пункт этого списка, можно получить подробную подсказку по нему.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Другая возможность обращения к подсказке - через клавиши <b><I>F1</I></b> и комбинацию клавиш <b><I>Ctrl+F1</I></b>. Эта подсказка - контекстно-зависимая, то есть, подсказка, которая появляется на экране, относится именно к тому состоянию системы программирования, в котором она сейчас находится. 
<p>&nbsp;&nbsp;&nbsp;&nbsp;По клавише <b><I>F1</I></b> Вы получаете подсказку по активному на данный момент меню или окну.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Комбинацией <b><I>Ctrl+F1</I></b> можно пользоваться только в активном окне редактора. Если при нажатии этой комбинации курсор находится на каком-то ключевом слове или на функции, то на экран выводится подробная подсказка по этому ключевому слову или функции. В противном случае действие этой комбинации аналогично <b><I>Главное Меню -&gt; Help -&gt; Index</I></b>.

<h3 align=center>5. Создание, редактирование и сохранение программы</h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Выберите <b><I>Главное Меню -&gt; File -&gt; New</I></b>. У вас на экране откроется пустое окно редактора с заголовком <b><I>00.CPP</I></b>. В этом окне наберите текст программы, приведенный ниже (нумерацию строк, которая дана слева, набирать не надо).
<pre>
 1   #include &lt;stdio.h&gt;
 2   int main(void) { 3    int a, b, c, d, x, y;
 4      a=1;
 5      b=2;
 6      c=a+b;
 7      d=a*b;
 8      if (c==d) {
 9         x=100;
10         y=200;
11         }
12      else {
13         x=200;
14         y=100;
15         }
16      printf("%d %d\n",x,y);
17      return 0;
18   }
</pre>
<p>&nbsp;&nbsp;&nbsp;&nbsp;При наборе и последующем редактировании текста шире используйте специальные клавиши и комбинации клавиш, такие как: <b><I>Home</I></b>, <b><I>End</I></b>, <b><I>Ctrl&lt-</I></b>, <b><I>Ctrl-&gt</I></b>, <b><I>Ctrl+Y</I></b> и др. Также полезными могут быть блочные команды: <b><I>Ctrl+K B</I></b> (выделить начало блока), <b><I>Ctrl+K K</I></b> (выделить конец блока), <b><I>Ctrl+K C</I></b> (копировать блок), <b><I>Ctrl+K V</I></b> (переместить блок), <b><I>Ctrl+K H</I></b> (отменить выделение). Подробную подсказку по специальным клавишам и комбинациям можно получить по <b><I>Главное Меню -&gt; Help -&gt; Contents -&gt; Editor Commands</I></b>.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Текст, который Вы набираете, сохраняется в оперативной памяти, поэтому если во время набора возникнет какая-то авария (например, выключение питания), все, что Вы набрали, будет потеряно. Чтобы избежать такой опасности, нужно сохранить текст в файле на внешней памяти. Набрав несколько первых строк, сохраните текст. Для этого выполните: <b><I>Главное Меню -&gt; File -&gt; Save as... </I></b>. При этом у Вас на экране появляется окно <b><I>Save File As</I></b>. В верхнем поле этого окна наберите имя, под которым Вы хотите сохранить текст программы. Если Вы наберете только имя (без расширения) система автоматично добавит к имени Вашей программы расширение <b><I>CPP</I></b> - стандартное расширение для программ, написанных на языке C++. Мы рекомендуем явно задавать расширение <b><I>C</I></b>, например: <b><I>myfile.c</I></b>, так как программы, которые мы пишем в этой части лабораторного практикума, ограничиваются возможностями базового языка C. Набрав имя, нажмите на клавишу <b><I>Enter</I></b> или "нажмите" на кнопку <b><I>OK</I></b>.
<p>&nbsp;&nbsp;&nbsp;&nbsp;При первом сохранении программы Вы дали ей имя (обратите внимание - это имя теперь является заголовком окна редактора). Далее после каждого добавления нескольких строк или при внесении некоторого количества изменений в текст сохраняйте программу под тем же именем. Для этого достаточно выполнить: <b><I>Главное Меню -&gt; File -&gt; Save</I></b> или нажать клавишу <b><I>F2</I></b>.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Впоследствии, если Вам нужно будет снова загрузить в редактор текст той же программы, выполните: <b><I>Главное Меню -&gt; File -&gt; Open</I></b> (или нажмите клавишу <b><I>F3</I></b>). Вы получите окно <b><I>Open a File</I></b>, которое очень похоже на окно <b><I>Save File As</I></b>. В верхнем поле этого окна выводится маска для файлов, из которых можно выбирать файл для открытия, в нижнем - список файлов, имена которых соответствуют этой маске. Меняя маску в верхнем поле, Вы изменяете состав списка в нижнем. Достигнув того, что ы нижнем поле будет именно тот список, который Вам нужен, перейдите в нижнее поле. Выберите нужный файл и нажмите на клавишу <b><I>Enter</I></b> или "нажмите" на кнопку <b><I>OK</I></b>. Файл, который Вы выбрали, откроется в окне редактора.
 
<h3 align=center>6. Компиляция и выполнение программы</h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Закончив набор текста и сохранив файл программы на диске, выполните компиляцию программы. Для этого выполните: <b><I>Главное Меню -&gt; Compile -&gt; Compile</I></b> или нажмите комбинацию клавиш <b><I>Alt+F9</I></b>. На экране появляется окно <b><I>Compiling</I></b>, в котором отображается ход компиляции. При нормальном завершении компиляции в нижней строке этого окна должно быть выведено: 
<p>&nbsp;&nbsp;&nbsp;&nbsp;<b><I>Success: &nbsp;&nbsp;&nbsp;&nbsp; Press any key</I></b>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Если там выводится:
<p>&nbsp;&nbsp;&nbsp;&nbsp;<b><I>Errors: &nbsp;&nbsp;&nbsp;&nbsp; Press any key</I></b><br>
или:<br>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<b><I>Warnings: &nbsp;&nbsp;&nbsp;&nbsp; Press any key</I></b><br>
- ваша программа требует коррекции.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Работу с диагностикой ошибок мы подробнее рассмотрим в следующем разделе.
После того, как Вы откомпилировали программу без ошибок, запустите ее на выполнение. Для этого выполните: <b><I>Главное Меню -&gt; Run -&gt; Run</I></b> или нажмите комбинацию клавиш <b><I>Ctrl+F9</I></b>. На экране появляется окно <b><I>Linking</I></b>, в котором отображается ход компоновки. При нормальном завершении компоновки это окно пропадает само собой и выполняется программа. <p>&nbsp;&nbsp;&nbsp;&nbsp;Если же в этому окне выводится:
<p>&nbsp;&nbsp;&nbsp;&nbsp;<b><I>Errors: &nbsp;&nbsp;&nbsp;&nbsp; Press any key</I></b><br>
- ваша программа требует коррекции.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Если Ваша программа не требует ввода данных (а именно такова та программа, с которой мы сейчас работаем), Вы даже не успеете заметить, как эта программа выполняется. Чтобы посмотреть результаты, которые программа выдала на экран, выполните: <b><I>Главное Меню -&gt; Window -&gt; User screen</I></b> или нажмите комбинацию клавиш <b><I>Alt+F5</I></b>. Вы увидите черный экран с тем, что вывела Ваша программа (в нашем случае это должно быть: 200 100). Чтобы выйти из режима просмотра результатов, нажмите любую клавишу.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Проверьте содержание Вашего рабочего каталога. Если текст Вашей программы был сохранен в файле <b><I>myfile.c</I></b>, то после компиляции в каталоге должен появится файл <b><I>myfile.obj</I></b>, а после выполнения - еще и <b><I>myfile.exe</I></b>.

<h3 align=center>7. Диагностика ошибок и предупреждения компилятора и компоновщика</h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;На этом этапе выполнения лабораторной работы мы предлагаем Вам поэкспериментировать с сообщениями компилятора и компоновщика. Предварительно рекомендуем сделать копию файла программы. Для этого выполните <b><I>Главное Меню -&gt; File -&gt; Save as... </I></b> и введите какое-то новое имя программы, например: <b><I>myfilex.c</I></b>. Теперь у Вас есть две копии программы в двух файлах (<b><I>myfile.c</I></b> и <b><I>myfilex.c</I></b>). Одна копия (пусть это будет <b><I>myfile.c</I></b>) будет хранить правильную версию программы, а в другую (это будет <b><I>myfilex.c</I></b>) мы нарочно будем вводить ошибки.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Откройте в текстовом редакторе файл <b><I>myfilex.c</I></b>. Внесите такие изменения в текст программы (тут и далее мы указываем номера строк, в которые нужно внести изменения):
<pre>
 6         c=a+b1;
 9         x=100; a123
18   /*}*/
</pre>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Запустите программу на компиляцию (<b><I>Ctrl+F9</I></b>). Вы получите:
<p>&nbsp;&nbsp;&nbsp;&nbsp;<b><I>Errors: &nbsp;&nbsp;&nbsp;&nbsp; Press any key</I></b>
в окне <b><I>Compiling</I></b>. Когда Вы нажмете любую клавишу, внизу экрана откроется окно Message с таким содержимым:

<p><table align=center>
<tr><td colspan=3><b><I>Compiling MYFILEX.C: </I></b></td></tr>
<tr><td><b><I>Error</I></b></td>
<td><b><I>MYFILEX.C</I></b></td>
<td><b><I>6: Undefined symbol 'b1'</I></b></td></tr>
<tr><td><b><I>Error</I></b></td>
<td><b><I>MYFILEX.C</I></b></td>
<td><b><I>10: Undefined symbol 'a123'</I></b></td></tr>
<tr><td><b><I>Error</I></b></td>
<td><b><I>MYFILEX.C</I></b></td>
<td><b><I>10: Statement missing ; </I></b></td></tr>
<tr><td><b><I>Error</I></b></td>
<td><b><I>MYFILEX.C</I></b></td>
<td><b><I>17: Compound statement missing }</I></b></td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Это сообщения компилятора про ошибки. Первая строка - заголовок. В следующих строках: признак ошибки, имя файла, в котором найдена ошибка, номер строки текста программы, в которой была обнаружена ошибка, диагностика ошибки.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Сообщение к строке 6 - <b><I>"Неопределенный символ 'b1'"</I></b>. В этом операторе используется переменная с таким именем, которой нет среди объявленных переменных.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Первое сообщение к строке 10 - <b><I>"Неопределенный символ 'a123'"</I></b>. Текст <b><I>a123</I></b> похож на имя переменной, но такая переменная не объявлена. Другое сообщение к строке 10 - <b><I>"В операторе отсутствует ;" </I></b>. Текст <b><I>a123</I></b> может быть отдельным оператором, но в нем нет признака конца оператора. Обратите внимание на то, что хотя ошибку мы внесли в строку 9, сообщение выдается к строке 10, поскольку ошибка была обнаружена только при обработке этой строки.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Сообщение к строке 17 - <b><I>"В составном операторе отсутствует }"</I></b> - компилятор выявил непарность операторных скобок - <b><I>{ }</I></b>. Где бы ни была пропущена закрывающая операторная скобка, ее отсутствие может быть обнаружено только на последнем операторе программы.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Когда Вы перемещаетесь по списку сообщений об ошибках в окне <b><I>Message</I></b>, в окне редактора то место текста программы, к которому относится текущее сообщение, выделяется цветом. Когда Вы переключаетесь в окно редактора (клавиша <b><I>F6</I></b>), курсор устанавливается на это самое место.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Восстановите правильное содержимое файла <b><I>myfilex.c</I></b>. (Это можно сделать, открыв в редакторе файл <b><I>myfile.c</I></b> и вновь сохранив его с именем <b><I>myfilex.c</I></b>. При этом Вы получите предупреждение о том, чтоо файл <b><i>myfilex.c</I></b> будет изменен, на которое Вам нужно ответить <b><I>Yes</I></b>.) Внесите такие изменения в текст программы:
<pre>
 3    int a, b, c, d, x, y, z=2;
 4      a=b;
 8      if (c=d) {
</pre>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Запустите программу на компиляцию (<b><I>Ctrl+F9</I></b>). Вы получите:
<p>&nbsp;&nbsp;&nbsp;&nbsp;<b><I>Warnings: Press any key</I></b><br>
в окне <b><I>Compiling</I></b>. Когда Вы нажмете любую клавишу, внизу экрана откроется окно <b><I>Message</I></b> с таким текстом:

<p><table align=center>
<tr>
<td colspan=3><b><I>Compiling MYFILEX.C: </I></b></td></tr>
<tr><td><b><I>Warning</I></b></td>
<td><b><I>MYFILEX.C</I></b></td>
<td><b><I>4: Possible use of 'b' before definition</I></b></td></tr>
<tr><td><b><I>Warning</I></b></td>
<td><b><I>MYFILEX.C</I></b></td>
<td><b><I>8: Possible incorrect assignment</I></b></td></tr>
<tr><td><b><I>Warning</I></b></td>
<td><b><I>MYFILEX.C</I></b></td>
<td><b><I>18: 'z' is assigned value that is never used</I></b></td></tr>
<tr><td><b><I>Warning</I></b></td>
<td><b><I>MYFILEX.C</I></b></td>
<td><b><I>18: 'c' is assigned value that is never used</I></b></td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Это - предупреждения компилятора.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Предупреждение к строке 4 - <b><I>"Возможно использование 'b' до определения"</I></b>. В этом операторе значение переменной <b><I>b</I></b> присваивается переменной <b><I>a</I></b>, но какое значение имеет <b><I>b</I></b> на этот момент выполнения программы - неизвестно.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Предупреждение к строке 8 - <b><I>"Возможно некорректное присваивание"</I></b>. Выражение <b><I>c=d</I></b> имеет смысл: "присвоить переменной <b><I>с</I></b> значение переменной <b><I>d</I></b>".  Выражение <b><I>c==d</I></b>, которое применено в правильной программе, имеет смысл: "сравнить переменные <b><I>c</I></b> и <b><I>d</I></b>". Поскольку выражение включено в условный оператор, компилятор имеет основания предполагать, что тут должно быть сравнение, а не присваивания.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Предупреждение к строке 18: <b><I>"Переменной 'z' присваивается значение, которое нигде не используется"</I></b>. В операторе 3 мы дали переменной <b><I>z</I></b> начальное значение 2. Но далее в программе значение <b><I>z</I></b> нигде ничему не присваивается и ни с чем не сравнивается.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Еще одно такое же предупреждение к строке 18 относится к переменной <b><I>c</I></b>. Присваивание значения этой переменной происходит в строке 8. Ситуация неиспользования значения может быть выявлена только в конце программы.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Вы можете получить не все предупреждения из тех, которые тут перечислены. При настройке среды можно отменить или возобновить выдачу тех или иных предупреждений. Это делается через: <b><I>Главное Меню -&gt; Options -&gt; Compiler -&gt; Messages</I></b>.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Восстановите правильное содержание файла <b><I>myfilex.c</I></b>. Внесите такие изменения в текст программы:
<pre>
 4      a=1; abc();
</pre>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Запустите программу на выполнение (<b><I>F9</I></b>). <p>&nbsp;&nbsp;&nbsp;&nbsp;Вы получите:
<p>&nbsp;&nbsp;&nbsp;&nbsp;<b><I>Errors:  Press any key</I></b><br>
в окне <b><I>Linking</I></b>. В окне <b><I>Message</I></b> будет:

<p><table align=center>
<tr>
<td colspan=2><b><I>Linking  MYFILEX.EXE: </I></b></td></tr>
<tr><td><b><I>Linker Error: </I></b></td>
<td><b><I>Undefined symbol _abc in module MYFILEX.C</I></b></td></tr>
</table>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Это - сообщение компоновщика. <b><I>"Неопределенный символ _abc в модуле MYFILEX.C"</I></b>. Синтаксически оператор <b><I>abc();</I></b> является обращением к функции, именно так его трактует компилятор. Но когда компоновщик пытается найти функцию с таким именем в доступных ему модулях и библиотеках, он ее не находит, про что и сообщает нам. 
<p>&nbsp;&nbsp;&nbsp;&nbsp;Если Вы запустите отдельным шагом компиляцию той же программы, Вы получите:

<p><table align=center>
<tr>
<td colspan=3><b><I>Compiling MYFILEX.C: </I></b></td></tr>
<tr><td><b><I>Warning</I></b></td>
<td><b><I>MYFILEX.C</I></b></td>
<td><b><I>4: Call to function 'abc' with no prototype </I></b></td></tr>
</table>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Компилятор предупреждает о том, что в программе есть <b><I>"Вызов функции 'abc' без прототипа"</I></b>.


<h3 align=center>8. Отладка программы </h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;В системе программирования есть отладчик, который работает на уровне текстового кода. Используя его, Вы можете выполнять программу в пошаговом режиме, устанавливать точки останова выполнения и следить за текущими значениями переменных программы. 
<p>&nbsp;&nbsp;&nbsp;&nbsp;Откройте в текстовом редакторе файл <b><I>myfile.c</I></b>. 
<p>&nbsp;&nbsp;&nbsp;&nbsp;Выполните: <b><I>Главное Меню -&gt; Debug -&gt; Watches -&gt; Add watch</I></b> (или нажмите комбинацию клавиш <b><I>Ctrl+F7</I></b>). В окне <b><I>Add Watch</I></b>, которое появится на экране, введите в поле <b><I>Watch Expression</I></b> имя переменной <b><I>a</I></b>. "Нажмите" кнопку <b><I>OK</I></b>. В нижней части экрана появится окно <b><I>Watch</I></b>, а в нем - <b><I>"a: Undefined symbol 'a'"</I></b>.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Повторите эти действия несколько раз, вводя в поле <b><I>Watch Expression</I></b> имена <b><I>b</I></b>, <b><I>c</I></b>, <b><I>d</I></b>. В окне <b><I>Watch</I></b> будут добавляться аналогичные сообщения. Этими действиями мы даем системе программирования инструкцию отслеживать и отображать в окне <b><I>Watch</I></b> текущие значения выбранных переменных программы. Поскольку программа еще не выполняется, эти переменные пока еще "неизвестны" системе программирования, о чем и свидетельствуют сообщения.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Сделайте активным окно редактора и нажмите клавишу <b><I>F8</I></b>. В окне редактора цветом (скорее всего - голубым) будет выделена строка 2 текста программы. Это мы начали отладку нашей программы в пошаговом режиме. Еще раз нажмите клавишу <b><I>F8</I></b>. Выделение сместится на строку 4, а в окне  будут отображаться какие-то значения переменных. Выполнение программы началось и эти переменные уже "известны", но их значения еще не установлены, поэтому они - какие-то случайные числа. Со следующим нажатием клавиши <b><I>F8</I></b> значение переменной <b><I>a</I></b> изменится на 1. Каждое следующее нажатие клавиши <b><I>F8</I></b> будет продвигать выполнение программы на оператор вперед, и в соответствии с выполнением операторов программы будут меняться значения переменных.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Обратите внимание на то, что после строки 8 выполнение сразу же "перепрыгнет" на строку 13. Поскольку условие в условном операторе 8 не выполняется, выполнение обходит строки 9 - 12. Если Вы измените:
<pre>
 4    a=2;
</pre>
<p>&nbsp;&nbsp;&nbsp;&nbsp;и снова выполните программу в пошаговом режиме, условие в строке 8 будет выполняться, следовательно, и выполнение программы пройдет через строки 9-10-11 и обойдет строки 12-15.
<p>&nbsp;&nbsp;&nbsp;&nbsp;Закончив выполнение программы, установите курсор на строку 8 и выполните: <b><I>Главное Меню -&gt; Debug -&gt; Toggle breakpoint</I></b> (или нажмите комбинацию клавиш (<b><I>Ctrl+F8</I></b>). Строка 8 выделится цветом (скорее всего - красным). Этим мы задали точку останова программы. Теперь запустите программу на выполнение (<b><I>F9</I></b>). Выполнение остановится на строке 8. При этом в окне <b><I>Watch</I></b> будут отображаться текущие значения переменных. Вы можете продолжить выполнение в пошаговом (<b><I>F8</I></b>) или в автоматическом режиме (<b><I>F9</I></b>).
<p>&nbsp;&nbsp;&nbsp;&nbsp;То меню, которое "выпадает" по <b><I>Главное Меню -&gt; Debug</I></b>, дает возможность полностью управлять слежением за значениями и точками останова.

<h3 align=center>9. Выводы</h3>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Выполнение этой лабораторной работы должно показать Вам некоторые возможности системы программирования Borland C++, которые помогают программисту создавать, выполнять и отлаживать программы. Эти возможности далеко не исчерпываются теми, которые мы здесь рассмотрели. Во время выполнения этой и других работ Вы должны самостоятельно познакомиться с другими возможностями (пользуясь онлайновой подсказкой) и выбрать для себя некоторый стиль работы в системе программирования. Чем активнее Вы будете овладевать возможностями системы программирования, тем более легким и эффективным будет для Вас выполнение всего лабораторного практикума.


<p><hr>
<p><table cellpadding=10>
<tr><td><a href=../../index.html>Каталог</a></td><td><a href=../index.html>Индекс раздела</a></td><td></tr>
</table>
<table cellpadding=10>
<tr><td><a href=l00.html>Назад</a></td><td><a href=index.html>Оглавление</a></td><td><a href=l02.html>Вперед</a></td></tr>
</table>
</p>
<hr>
</body>
</html>
